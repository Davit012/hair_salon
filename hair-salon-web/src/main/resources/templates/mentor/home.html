<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <div th:replace="mentor/fragments/mentor-fragments :: header"></div>
    <title>Mentor Dashboard</title>
    <style>
        ::-webkit-scrollbar {
            width: 5px;
        }

        ::-webkit-scrollbar-track {
            background: white;
        }

        ::-webkit-scrollbar-thumb {
            border-radius: 10px;
            background: #2196F3;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: blue;
        }
    </style>
</head>
<body>

<main class="main" id="top">
    <div class="container-fluid" data-layout="container">
        <script>
            const isFluid = JSON.parse(localStorage.getItem('isFluid'));
            if (isFluid) {
                const container = document.querySelector('[data-layout]');
                container.classList.remove('container');
                container.classList.add('container-fluid');
            }
        </script>
        <div th:replace="mentor/fragments/mentor-fragments :: mainNavbar"></div>

        <div class="content" style="overflow-x: hidden">
            <div th:replace="mentor/fragments/mentor-fragments :: topNavbar"></div>

            <div class="col-sm-12 row mb-3" style="margin-top:5%">
                <div class="col-md-6 col-xxl-3" style="width: 25% !important;">
                    <div class="card h-md-100 ecommerce-card-min-width">
                        <div class="card-header pb-0">
                            <h3 class="mb-0 mt-2 d-flex align-items-center" style="font-family: 'Poppins';font-style: normal;
                            line-height: 18px;color: #5E6E82;" th:text="${studentsCount}">
                            </h3>
                        </div>
                        <div class="card-body d-flex flex-column justify-content-end">
                            <div class="row">
                                <div class="col">
                                    <div style="text-align: right">
                                        <img src="/mentor/img/icons/community.png"
                                             style="margin-left: 47px; display:inline-block">
                                    </div>
                                    <h5 class="content-name" style="display:inline-block;color: #5E6E82;">Total
                                        Students</h5>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-xxl-3" style="width: 25% !important;">
                    <div class="card h-md-100 ecommerce-card-min-width">
                        <div class="card-header pb-0">
                            <h3 class="mb-0 mt-2 d-flex align-items-center" style="font-family: 'Poppins';font-style: normal;
                            line-height: 18px;color: #5E6E82;" th:text="${modulesCount}">
                            </h3>
                        </div>
                        <div class="card-body d-flex flex-column justify-content-end">
                            <div class="row">
                                <div class="col">
                                    <div style="text-align: right">
                                        <img src="/mentor/img/icons/youtube.png"
                                             style="margin-left: 47px; display:inline-block">
                                    </div>
                                    <h5 class="content-name" style="display:inline-block;color: #5E6E82;">Total
                                        Modules</h5>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-xxl-3" style="width: 25% !important;">
                    <div class="card h-md-100 ecommerce-card-min-width">
                        <div class="card-header pb-0">
                            <h3 class="mb-0 mt-2 d-flex align-items-center" style="font-family: 'Poppins';font-style: normal;
                            line-height: 18px;color: #5E6E82;" th:text="${homeworksCount}">
                            </h3>
                        </div>
                        <div class="card-body d-flex flex-column justify-content-end">
                            <div class="row">
                                <div class="col">
                                    <div style="text-align: right">
                                        <img src="/mentor/img/icons/book-open.png"
                                             style="margin-left: 47px; display:inline-block">
                                    </div>
                                    <h5 class="content-name" style="color: #5E6E82;">Total Homeworks</h5>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-xxl-3" style="width: 25% !important;">
                    <div class="card h-md-100 ecommerce-card-min-width">
                        <div class="card-header pb-0">
                            <h3 class="mb-0 mt-2 d-flex align-items-center" style="font-family: 'Poppins';font-style: normal;
                            line-height: 18px;color: #5E6E82;">$1500
                            </h3>
                        </div>
                        <div class="card-body d-flex flex-column justify-content-end">
                            <div class="row">
                                <div class="col">
                                    <div style="text-align: right">
                                        <img src="/mentor/img/icons/usd.png"
                                             style="margin-left: 47px; display:inline-block">
                                    </div>
                                    <h5 class="content-name" style="color: #5E6E82;">Total Earning</h5>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>

            <div style="display:flex;margin-top: 4%;">
                <div class="col-sm-6">
                    <div class="card overflow-hidden h-100" style="margin-right:2em">
                        <div class="card-body p-0 management-calendar">
                            <div>
                                <div class="col-sm-12 bg-light pt-3">
                                    <div class="px-3">
                                        <h4 class="mb-0 fs-0 fs-sm-1 fs-lg-2" id="management-calendar-title">Homeworks
                                            List</h4>
                                        <ul class="list-unstyled mt-3 scrollbar management-calendar-events"
                                            id="management-calendar-events">
                                            <table class="table table-hover table-striped">
                                                <thead>
                                                <tr>
                                                    <th scope="col">Name</th>
                                                    <th scope="col">Module</th>
                                                </tr>
                                                </thead>
                                                <div class="border-start border-3 border-primary ps-3 mt-1"
                                                     th:each="item:${homeworks}">

                                                    <tbody>
                                                    <tr class="align-middle text-nowrap">
                                                        <td class="name align-middle white-space-nowrap py-2">
                                                            <div class="file-thumbnail" style="display: inline-block">
                                                                <img
                                                                        class="border h-100 w-100 fit-cover rounded-2"
                                                                        th:src="${item.author.profilePic}" alt=""></div>
                                                            <a href="customer-details.html"
                                                               style="display: inline-block">
                                                                <div class="d-flex d-flex align-items-center">
                                                                    <div class="flex-1">
                                                                        <h5 class="mb-0 fs--1"
                                                                            th:text="${item.author.name + ' ' + item.author.surname}">
                                                                            Ricky
                                                                            Antony</h5>
                                                                    </div>
                                                                </div>
                                                            </a>
                                                        </td>
                                                        <td class="text-nowrap">
                                                            <span th:if="${item.homework.lesson.module != null}" th:text="${item.homework.lesson.module.name}"></span>
                                                        </td>
                                                        <td class="text-nowrap"
                                                            th:if="${item.status.toString().equalsIgnoreCase('homework_verified')}">
                                                            <div class="avatar-name rounded-circle"
                                                                 style="background: #4DCA88;width: 20px;height:20px">

                                                            </div>
                                                        </td>
                                                        <td class="text-nowrap"
                                                            th:if="${!item.status.toString().equalsIgnoreCase('homework_verified')}">
                                                            <div class="avatar-name rounded-circle"
                                                                 style="background: #FF424F;width: 20px;height:20px">
                                                            </div>
                                                        </td>

                                                    </tr>
                                                    </tbody>
                                                </div>
                                            </table>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="card overflow-hidden h-100" style="margin-right:2em">
                        <div class="card-body p-0 management-calendar">
                            <div>
                                <div class="col-sm-12 bg-light pt-3">
                                    <div class="px-3">
                                        <h4 class="mb-0 fs-0 fs-sm-1 fs-lg-2" id="management-calendar-title">Homeworks
                                            List</h4>
                                        <ul class="list-unstyled mt-3 scrollbar management-calendar-events"
                                            id="management-calendar-events">
                                            <table class="table table-hover table-striped">
                                                <thead>
                                                <tr>
                                                    <th scope="col">Name</th>
                                                    <th scope="col">Lesson</th>
                                                </tr>
                                                </thead>
                                                <div class="border-start border-3 border-primary ps-3 mt-1"
                                                     th:each="item:${quizResults}">
                                                    <tbody>
                                                    <tr class="align-middle text-nowrap">
                                                        <td class="name align-middle white-space-nowrap py-2">
                                                            <div class="file-thumbnail" style="display: inline-block"><img
                                                                    class="border h-100 w-100 fit-cover rounded-2"
                                                                    th:src="${item.student.profilePic}" alt=""></div>
                                                            <a href="customer-details.html" style="display: inline-block">
                                                                <div class="d-flex d-flex align-items-center">
                                                                    <div class="flex-1">
                                                                        <h5 class="mb-0 fs--1"
                                                                            th:text="${item.student.name + ' ' + item.student.surname}">
                                                                            Ricky
                                                                            Antony</h5>
                                                                    </div>
                                                                </div>
                                                            </a>
                                                        </td>
                                                        <td class="text-nowrap" th:text="${item.quiz.lesson.name}"></td>

                                                        <td class="text-nowrap"
                                                            th:if="${(item.grad / item.maxGrad * 100) > 80}"
                                                            th:text="Greate + ${item.grad}" style="color: green">
                                                        </td>
                                                        <td class="text-nowrap"
                                                            th:if="${(item.grad/item.maxGrad*100)<80} AND ${(item.grad/item.maxGrad*100)>40}"
                                                            th:text="Good + ' ' + ${item.grad}" style="color: orange">
                                                        </td>
                                                        <td class="text-nowrap"
                                                            th:if="${(item.grad/item.maxGrad*100)<40}"
                                                            th:text="Failed + ${item.grad}" style="color: red">
                                                        </td>

                                                    </tr>
                                                    </tbody>
                                                </div>
                                            </table>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div th:replace="mentor/fragments/mentor-fragments :: footer"></div>

        </div>

    </div>
</main>
<div th:replace="mentor/fragments/mentor-fragments :: js"></div>

</body>
</html>