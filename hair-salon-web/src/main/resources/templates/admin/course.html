<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">
<head>
    <div th:replace="admin/fragments/admin-fragments :: header"></div>
    <title>Save admin</title>
    <style>
        ::-webkit-scrollbar {
            width: 5px;
        }

        ::-webkit-scrollbar-track {
            background: white;
        }

        ::-webkit-scrollbar-thumb {
            background: #2196F3;
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: blue;
        }
    </style>
</head>
<body>

<main class="main" id="top">
    <div class="container-fluid" data-layout="container">

        <div th:replace="admin/fragments/admin-fragments :: mainNavbar"></div>

        <div class="content">
            <div th:replace="admin/fragments/admin-fragments :: topNavbar"></div>
            <div class="col-sm-11" style="display: flex">
                <div style="text-align: left" class="col-sm-3">
                    <h5 style="color:#2C7BE5" class="mt-2 mx-4">Course Details</h5>
                </div>
                <div class="col-sm-9" style="text-align: right">
                    <p th:text="'$' + ${course.price}" style="color:red;" class="d-inline-block"></p>
                    <a href="#" class="d-inline-block" style="text-decoration: none">
                        <p style="background:white;border:1px solid gray" class="px-3 py-1 mx-2">Buy Now</p>
                    </a>
                    <div class="d-inline-block">
                        <img src="/admin/img/icons/favourite.png">
                    </div>
                </div>
            </div>
            <div class="col-sm-11 mx-4" style="text-align:left">
                <hr style="color:rgba(136, 136, 136, 0.5);">
            </div>
            <div class="col-sm-12" style="display:flex;overflow-x:hidden">
                <div class="col-sm-4">
                    <div class="col-sm-12 card">
                        <div style="text-align: center;margin-top: 10%;margin-bottom: 10%;" class="col-sm-12">
                            <img th:src="${course.photo}">
                        </div>
                        <div class="col-sm-12" style="text-align:left">
                            <h4 th:text="${course.name}" style="margin-left: 5%;color:#5E6E82"></h4>
                        </div>
                        <table class="table table-sm table-striped fs--1 mb-0 overflow-hidden">
                            <tbody class="list" id="table-customers-body">
                            <tr class="btn-reveal-trigger">
                                <td class="name align-middle white-space-nowrap py-2">
                                    <a href="customer-details.html">
                                        <div class="d-flex d-flex align-items-center">
                                            <div class="flex-1">
                                                <h5 class="mb-0 fs--1" style="color:#5E6E82">Price</h5>
                                            </div>
                                        </div>
                                    </a>
                                </td>
                                <td class="email align-middle py-2" style="text-align: right;color:#5E6E82"><p
                                        th:text="'$' + ${course.price}" style="color:#5E6E82">$0</p></td>
                            </tr>
                            <tr class="btn-reveal-trigger">
                                <td class="name align-middle white-space-nowrap py-2">
                                    <a href="customer-details.html">
                                        <div class="d-flex d-flex align-items-center">
                                            <div class="flex-1">
                                                <h5 class="mb-0 fs--1" style="color:#5E6E82">Date</h5>
                                            </div>
                                        </div>
                                    </a>
                                </td>
                                <td class="email align-middle py-2" style="text-align: right;color:#5E6E82"
                                    th:text="${T(academy.itspace.util.DateUtil).formatDateToString(course.createdDate)}">
                                </td>
                            </tr>
                            <tr class="btn-reveal-trigger">
                                <td class="name align-middle white-space-nowrap py-2">
                                    <a href="customer-details.html">
                                        <div class="d-flex d-flex align-items-center">
                                            <div class="flex-1">
                                                <h5 class="mb-0 fs--1" style="color:#5E6E82">Students</h5>
                                            </div>
                                        </div>
                                    </a>
                                </td>
                                <td class="align-middle py-2 mb-0" style="text-align: right;color:#5E6E82"><p
                                        th:text="${currentCourseStudentsCount}">500</p></td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="col-sm-12 card mt-3" style="height: 17em;">
                        <h4 style="color:#2C7BE5" class="my-2 mx-3">Description</h4>
                        <textarea class="form-control" th:text="${course.description}"
                                  style="overflow-y: scroll;height:85%;resize: none">

                        </textarea>
                    </div>
                    <div class="card mt-3 col-sm-12">
                        <h5 class="mx-2 mt-2">admin</h5>
                        <div class="d-flex">
                            <div class="mx-4">
                                <div class="avatar avatar-xl mt-2">
                                    <img th:if="${course.author.profilePic} != null"
                                         class="rounded-circle" th:src="${course.author.profilePic}">
                                    <img th:if="${course.author.profilePic} == null"
                                         class="rounded-circle" src="/admin/img/team/avatar.png">
                                </div>
                            </div>
                            <div class="mx-2">
                                <div>
                                    <p th:text="${course.author.name} + ' ' + ${course.author.surname}"></p>
                                    <div class="d-flex">
                                        <div>
                                            <img src="/admin/img/icons/communitybw.png">
                                        </div>
                                        <p th:text="${studentsCount} + ' Stduents'" class="mx-1"></p>
                                    </div>
                                    <div class="d-flex">
                                        <div>
                                            <img src="/admin/img/icons/play.png">
                                        </div>
                                        <p th:text="${coursesCount} + ' Courses'" class="mx-1"></p>
                                    </div>
                                </div>

                            </div>
                        </div>
                        <p th:text="${course.author.teacher.currentPosition}" class="mx-4 mt-2 col-sm-10"></p>
                    </div>
                </div>
                <div class="col-sm-7 card mx-5">
                    <div class="mx-3 my-3" style="display:block;position: absolute;top: 0; bottom: 0; left: 0; right: 0;overflow: auto;">
                        <div style="text-align: left" class="col-sm-12">
                            <h5 style="color:#2C7BE5" class="mx-1">Course Content</h5>
                        </div>
                        <div style="text-align: left" class="col-sm-12">
                            <p style="color:#5E6E82" th:text="${course.modules.size} + ' modules'"
                               class="d-inline-block mx-1"></p>
                            <p class="d-inline-block">|</p>
                            <p style="color:#5E6E82" th:text="${lessonsCount} + ' lessons'"
                               class="d-inline-block mx-1"></p>
                        </div>
                        <div class="col-sm-12" th:each="module:${course.modules}">
                            <div class="col-sm-12">
                                <div class="accordion-item">
                                    <h2 class="accordion-header" th:id="heading + ${moduleStat.index}">
                                        <button class="accordion-button collapsed bg-200" type="button"
                                                data-bs-toggle="collapse"
                                                th:data-bs-target="'#collapse' + ${moduleStat.index}"
                                                aria-expanded="false"
                                                th:aria-controls="collapse + ${moduleStat.index}">
                                            <div class="col-sm-11">
                                                <p th:text="${module.name}" class="mb-0 col-sm-5 d-inline-block"></p>
                                                <div class="col-sm-6 d-inline-block" style="text-align:right">
                                                    <p th:text="${module.lessons.size()} + ' lessons'" class="mb-0 d-inline-block"></p>
                                                    <p class="mb-0 d-inline-block">|</p>
                                                    <p th:text="${module.duration} + ' min'" class="mb-0 d-inline-block"></p>
                                                </div>
                                            </div>
                                        </button>
                                    </h2>
                                    <div class="accordion-collapse collapse col-sm-12"
                                         th:id="collapse + ${moduleStat.index}"
                                         th:aria-labelledby="heading + ${moduleStat.index}"
                                         data-bs-parent="#accordionExample"
                                         style="text-align: -webkit-center;">
                                        <div class="col-sm-12" style="border: 1px solid rgba(94, 110, 130, .3);">
                                            <div class="card overflow-hidden h-100">
                                                <div class="card-body p-0 management-calendar">
                                                    <div>
                                                        <div class="col-sm-12 bg-light pt-3">
                                                            <div>
                                                                <ul class="list-unstyled scrollbar management-calendar-events"
                                                                    id="management-calendar-events">
                                                                    <table class="table table-hover table-striped">
                                                                        <div class="border-start border-3 border-primary ps-3 mt-1"
                                                                             th:each="lesson:${module.lessons}">
                                                                            <tbody>
                                                                            <tr class="align-middle text-nowrap">
                                                                                <td>
                                                                                    <div>
                                                                                        <img src="/admin/img/icons/play.png"
                                                                                             class="pb-1">
                                                                                        <p th:text="${lesson.name}" class="px-1"
                                                                                           style="display:inline-block"></p>
                                                                                    </div>
                                                                                </td>
                                                                                <td style="padding-bottom: 0">
                                                                                    <div class="col-sm-12" style="text-align:right">
                                                                                        <a th:href="@{'/admin/lesson/' + ${lesson.id}}"
                                                                                           href="#" style="text-decoration: none"><p
                                                                                                style="display:inline-block;color:#5E6E82;"
                                                                                                class="mx-3">Preview</p></a>
                                                                                        <p style="display: inline-block" th:text="${lesson.duration}"></p>
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                            </tbody>
                                                                        </div>
                                                                    </table>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>


                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>
<div th:replace="admin/fragments/admin-fragments :: js"></div>

</body>
</html>
