<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <div th:replace="admin/fragments/admin-fragments :: header"></div>
    <title>Edit Student</title>
</head>
<body>

<main class="main" id="top">
    <div class="container-fluid" data-layout="container">

        <div th:replace="admin/fragments/admin-fragments :: mainNavbar"></div>

        <div class="content">
            <div th:replace="admin/fragments/admin-fragments :: topNavbar"></div>

            <div class="card mb-3">
                <div class="card-header">
                    <div class="row flex-between-end">
                        <div class="col-auto align-self-center">
                            <div class="d-flex align-items-center">
                                <label class="form-label col-sm-1" for="imageInput">
                                    <div id="forImage" class="col-sm-12">
                                        <img th:src="${student.user.profilePic}" id="selected_image" style="max-width:100%">
                                    </div>
                                    <input type="file" style="display: none" th:value="${student.user.profilePic}">

                                </label>
                                <h5 class="mb-0" style="color: #006dff; margin-left: 1em">Personal Info</h5>
                            </div>
                        </div>
                        <div class="col-auto ms-auto">
                            <div class="nav nav-pills nav-pills-falcon flex-grow-1" role="tablist"
                                 style="margin-top: -3em">
                                <a href="#">
                                    <button class="btn btn-sm" type="button">
                                        <h6 class="mb-0" data-anchor="data-anchor">
                                            View your public profile</h6>
                                    </button>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card-body bg-light">
                <div class="tab-content">
                    <div class="tab-pane preview-tab-pane active" role="tabpanel">
                        <form method="post" enctype="multipart/form-data" action="/admin/students/edit">
                            <div style="display: flex">
                                <div class="col-sm-5" style="display: inline-block">
                                    <div class="mb-3"><label class="form-label" for="name">First Name
                                    </label><input class="form-control" id="name" type="text" name="name"
                                                   th:value="${student.user.name}"/>
                                    </div>

                                    <div class="mb-3"><label class="form-label" for="email">Email address
                                    </label><input class="form-control" id="email" type="email" name="email"
                                                   placeholder="name@example.com"
                                                   th:value="${student.user.email}"/>
                                    </div>

                                    <div class="mb-3"><label class="form-label" for="password">Password</label>
                                        <input class="form-control" id="password" type="password" name="password"
                                               placeholder="at least 6 symbols" />
                                    </div>

                                    <div class="mb-3"><label class="form-label" for="dob">Date of Birth</label>
                                        <input class="form-control" id="dob"
                                               th:value="${T(academy.itspace.util.DateUtil).formatDateToString(student.user.dateOfBirthday)}"
                                               type="date" name="dob">
                                    </div>

                                </div>

                                <div class="col-sm-5" style="display: inline-block; margin-left: 17%">
                                    <div class="mb-3"><label class="form-label" for="surname">Last Name
                                    </label><input class="form-control" id="surname" type="text" name="surname"
                                                   th:value="${student.user.surname}"/>
                                    </div>

                                    <div class="mb-3"><label class="form-label" for="phoneNumber">Phone Number
                                    </label><input class="form-control" id="phoneNumber" type="text"
                                                   name="phoneNumber" th:value="${student.user.phoneNumber}"/>
                                    </div>

                                    <div class="mb-3"><label class="form-label" for="confirmPassword">Confirm
                                        Password</label>
                                        <input class="form-control" id="confirmPassword" type="password"
                                               name="confirmPassword"
                                               placeholder="at least 6 symbols" />
                                    </div>


                                    <div class="mb-3"><label class="form-label" for="mentorId">Mentor</label>
                                        <select class="form-control" id="mentorId" name="mentorId">
                                            <option th:each="mentors: ${mentor}" th:value="${mentors.id}"
                                                    th:text="${mentors.user.name}"></option>
                                        </select>
                                    </div>

                                </div>
                            </div>

                            <div style="display: flex">
                                <div class="mb-3" style="display: inline-block"><label class="form-label" for="address">Address
                                </label><input class="form-control" id="address" type="text" name="address"
                                               th:value="${student.user.address}"/>
                                </div>


                                <div class="mb-3 " style="display: inline-block; margin-left: auto;"><label
                                        class="form-label"
                                        for="city">City
                                </label><input class="form-control" id="city" type="text" name="city"
                                               th:value="${student.user.city}"/>
                                </div>

                                <div class="mb-3" style="display: inline-block;margin-left: auto;"><label
                                        class="form-label"
                                        for="country">Country
                                </label><input class="form-control" id="country" type="text" name="country"
                                               th:value="${student.user.country}"/>
                                </div>
                            </div>


                            <div class="card-footer d-flex align-items-center justify-content-center">
                                <input type="hidden" th:value="${student.user.id}" name="id">
                                <input type="hidden" th:value="${student.id}" name="id">
                                <div class="card-footer d-flex align-items-center justify-content-center">
                                    <button class="btn btn-primary" type="submit">Submit</button>
                                    <button class="btn btn-primary" type="reset" style="margin-left: 20px;">Cancel
                                    </button>
                                </div>
                            </div>

                            <input type="file" id="imageInput" name="profilePic" style="display: none" onchange="previewImage();">
                        </form>

                    </div>
                </div>
            </div>

            <div th:replace="admin/fragments/admin-fragments :: footer"></div>

        </div>

    </div>
</main>
<div th:replace="admin/fragments/admin-fragments :: js"></div>

</body>
</html>
<script src="/admin/js/imageUtil.js"></script>