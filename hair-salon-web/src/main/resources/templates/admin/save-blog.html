<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://cdn.rawgit.com/harvesthq/chosen/gh-pages/chosen.jquery.min.js"></script>
    <link href="https://cdn.rawgit.com/harvesthq/chosen/gh-pages/chosen.min.css" rel="stylesheet"/>
    <link href="/admin/css/quiz-add-menu.css" rel="stylesheet">
    <div th:replace="admin/fragments/admin-fragments :: header"></div>
    <title>Save Module</title>
    <style>
        ::-webkit-scrollbar {
            width: 5px;
        }

        ::-webkit-scrollbar-track {
            background: white;
        }

        ::-webkit-scrollbar-thumb {
            background: #2196F3;
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: blue;
        }
    </style>
</head>
<body>

<main class="main" id="top">
    <div class="container-fluid" data-layout="container">

        <div th:replace="admin/fragments/admin-fragments :: mainNavbar"></div>

        <div class="content card">

            <div th:replace="admin/fragments/admin-fragments :: topNavbar"></div>
            <form action="/admin/blog/save" method="post" enctype="multipart/form-data"
                  onsubmit="return validFunction()">
                <div class="col-sm-12 d-flex">
                    <div class="col-sm-7 mx-3 my-4">
                        <div>
                            <h5 style="color:#2C7BE5;">Basic Information</h5>
                        </div>
                        <div class="mt-4">
                            <p>Module Title</p>
                            <div class="mb-3"><input class="form-control" id="moduleName" type="text"
                                                     placeholder="Java" name="title"></div>
                        </div>
                        <h5 style="color:#2c7be5;">Description</h5>
                        <div class="mb-3"><textarea
                                placeholder="please enter a description"
                                class="form-control" id="moduleDescription"
                                style="resize:none" rows="3" name="description"></textarea>
                        </div>

                        <div class="col-sm-12">
                            <h5>Post</h5>
                            <div class="mb-3"><textarea
                                    class="form-control"
                                    id="post"
                                    style="resize:none" rows="3" name="post"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-4 mx-3 my-4">
                        <div class="col-sm-12" style="display: inline-block">
                            <div class="col-sm-12">
                                <div class="col-sm-12">
                                    <p style="color:#2c7be5;margin-top:1%;">Post Preview</p>
                                    <hr>
                                </div>
                                <div style="text-align: center" class="col-sm-12 bg-200">
                                    <div style="margin-bottom:3%;text-align:center" class="col-sm-12">
                                        <div class=" card-body d-flex flex-center flex-column col-sm-12"
                                             style="height: 12vw;">
                                            <img id="selected_image" src="/admin/img/icons/camera.png"
                                                 alt="Click For Zoom"
                                                 style="max-width:100%;max-height: 100%">
                                        </div>
                                    </div>
                                    <div style="display: inline-block; text-align:center" class="col-sm-12">
                                        <input type="file" id="imageInput" style="display: none"
                                               onchange="PreviewImage();" name="image" accept="image/*">
                                        <label for="imageInput"><p style="border: 1px solid gray;padding: 3px;">Choose
                                            Image</p>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="inputsList" style="display:none">

                </div>
                <div class="px-sm-3 px-md-5 col-sm-12" style="text-align: center;margin-top:2%;">
                    <ul class="pager wizard list-inline mb-0" style="display:inline-flex">
                        <li class="next">
                            <button class="btn btn-primary px-5 px-sm-6" type="submit">
                                Create<span
                                    class="fas fa-chevron-right ms-2"> </span></button>
                        </li>
                        <li>
                            <a href="/admin/modules">
                                <button type="button" class="btn btn-outline-danger"
                                        id="delete_course" data-mdb-ripple-color="dark" style="margin-left:10%">
                                    Delete
                                </button>
                            </a>
                        </li>
                    </ul>
                </div>
            </form>
        </div>
    </div>
</main>
<div th:replace="admin/fragments/admin-fragments :: js"></div>

</body>
</html>
<script src="/admin/js/moduleActions.js"></script>
<script src="/admin/js/imageUtil.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@10.10.1/dist/sweetalert2.all.min.js"></script>
<script>
    function validFunction() {
        let name = document.getElementById("moduleName").value;
        let description = document.getElementById("moduleDescription").value;
        let post = document.getElementById("post").value;
        if (name.trimStart() === '' || description.trimStart() === '' || post.trimStart() === '') {
            Swal.fire({
                icon: 'error',
                title: 'Oops...',
                text: "Pleases input Blog's name, description and post fields"
            })
            return false;
        }
    }
</script>